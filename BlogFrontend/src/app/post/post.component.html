<app-menu></app-menu>

<div class="container">
  <h1 class="text-center m-5">Posts</h1>
  <button class="btn btn-info ml-5" routerLink="/posts/formulario" >Crear Post</button>
  <div  *ngFor="let post of posts">
  <div class="card text-center m-5 col-md-12">
    <div class="card-body">

      <h4 class="card-title">{{ post.titulo }}</h4>
      <p class="card-text">{{ post.id }}</p>
      <p class="card-text">{{ post.descripcion }}</p>

      <p><time datetime="">Fecha de Creacion: {{post.fechaCreacion}}</time></p>
      <p *ngIf="post.fechaActualizacion"><time datetime="">Fecha de Actualizacion: {{post.fechaActualizacion}}</time></p>
      <p>Creado por el usuario: {{post.usuario}}</p>
      <p>Categoria: {{post.categoria}}</p>

      <button class="btn btn-primary m-2" [routerLink]="['/posts/comentarios/', post.id]" ><i class="fa-solid fa-book-open-reader"></i></button>
      <button *ngIf="post.usuario === nombreUsuario" class="btn btn-warning" [routerLink]="['/posts/formulario/', post.id]" > <i class="fa-solid fa-pen-to-square"></i></button>
      <button *ngIf="post.usuario === nombreUsuario" class="btn btn-danger m-2" (click)="delete(post)"> <i class="fa-solid fa-trash"></i> </button>
    </div>
  </div>
  </div>

  <div *ngIf="posts.length > 0" class="card-body m-4 pagination justify-content-center">
    <td><i style="cursor: pointer;" class="fa-solid fa-angles-left fa-2x" (click)="rewind()"></i></td>
    <td colspan="2">
      <span *ngFor="let page of totalPages; let i = index">
        <a style="cursor: pointer;" class="page-link d-inline-flex ml-2" (click)="setPage(i)" [ngClass]="{'text-primary':i===page}" > {{i+1}}  </a>
      </span>
    </td>
    <td><i style="cursor: pointer;" class="fa-solid fa-angles-right fa-2x" (click)="forward()"></i></td>
  </div>


</div>
