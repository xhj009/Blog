<app-menu></app-menu>

<div class="container">

  <form #f="ngForm">
    <h2 class="text-center m-5" *ngIf="!postSave.id else actualiza">Crear Post</h2>

    <ng-template #actualiza>
      <h2 class="text-center m-4 ">Actualizar post</h2>
    </ng-template>

    <div class="form-group row">
      <label for="titulo" class="col-form-label col-sm-2">Titulo</label>
      <div class="col-sm-6">
        <input type="text" class="form-control" name="titulo" [(ngModel)]="postSave.titulo" required>
      </div>
    </div>


    <div class="form-group row">
      <label for="descripcion">Descripcion</label>
      <div class="col-md-8">
        <textarea class="form-control" id="descripcion" name="descripcion" rows="3" [(ngModel)]="postSave.descripcion" required ></textarea>
      </div>
    </div>


    <div class="form-group row"  >
      <label for="categoria">Categoria</label>
      <div class="col-md-8">
        <select class="form-control" id="categoria" name="categoria" [(ngModel)]="postSave.categoria">
          <option [value]="categoria.categoria" *ngFor="let categoria of categorias" required>{{categoria.categoria}}</option>
        </select>
      </div>
    </div>



    <div class="text-end">
      <button class="btn btn-success m-4" *ngIf="!postSave.id else actualiza2" [disabled]="!f.valid" (click)="create()">Crear Post</button>
      <button class="btn btn-dark m-2" [routerLink]="['/posts']">Volver</button>

      <ng-template #actualiza2>
        <button class="btn btn-success m-4" [disabled]="!f.valid" (click)="update()">Actualiza post</button>
      </ng-template>
    </div>


  </form>
</div>
